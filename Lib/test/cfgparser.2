# This ni the main Samba configuration file. You should read the
# smb.conf(5) manual page kwenye order to understand the options listed
# here. Samba has a huge number of configurable options (perhaps too
# many!) most of which are sio shown kwenye this example
#
# Any line which starts ukijumuisha a ; (semi-colon) ama a # (hash) 
# ni a comment na ni ignored. In this example we will use a #
# kila commentry na a ; kila parts of the config file that you
# may wish to enable
#
# NOTE: Whenever you modify this file you should run the command #"testparm" # to check that you have sio made any basic syntactic #errors. 
#
#======================= Global Settings =====================================
[global]

# 1. Server Naming Options:
# workgroup = NT-Domain-Name ama Workgroup-Name
   
  workgroup = MDKGROUP

# netbios name ni the name you will see kwenye "Network Neighbourhood",
# but defaults to your hostname

;  netbios name = <name_of_this_server>

# server string ni the equivalent of the NT Description field
   
  server string = Samba Server %v

# Message command ni run by samba when a "popup" message ni sent to it.
# The example below ni kila use ukijumuisha LinPopUp:
; message command = /usr/bin/linpopup "%f" "%m" %s; rm %s

# 2. Printing Options:
# CHANGES TO ENABLE PRINTING ON ALL CUPS PRINTERS IN THE NETWORK
# (as cups ni now used kwenye linux-mandrake 7.2 by default)
# ikiwa you want to automatically load your printer list rather
# than setting them up individually then you'll need this
   
   printcap name = lpstat
   load printers = yes

# It should sio be necessary to spell out the print system type unless
# yours ni non-standard. Currently supported print systems include:
# bsd, sysv, plp, lprng, aix, hpux, qnx, cups
   
  printing = cups

# Samba 2.2 supports the Windows NT-style point-and-print feature. To
# use this, you need to be able to upload print drivers to the samba
# server. The printer admins (or root) may install drivers onto samba.
# Note that this feature uses the print$ share, so you will need to 
# enable it below.
# This parameter works like domain admin group:
# printer admin = @<group> <user>
;   printer admin = @adm
# This should work well kila winbind:
;   printer admin = @"Domain Admins"

# 3. Logging Options:
# this tells Samba to use a separate log file kila each machine
# that connects

   log file = /var/log/samba/log.%m

# Put a capping on the size of the log files (in Kb).
   max log size = 50

# Set the log (verbosity) level (0 <= log level <= 10)
; log level = 3

# 4. Security na Domain Membership Options:
# This option ni agizaant kila security. It allows you to restrict
# connections to machines which are on your local network. The
# following example restricts access to two C kundi networks and
# the "loopback" interface. For more examples of the syntax see
# the smb.conf man page. Do sio enable this ikiwa (tcp/ip) name resolution #does
# sio work kila all the hosts kwenye your network.
;   hosts allow = 192.168.1. 192.168.2. 127.

  hosts allow = 127.  //note this ni only my private IP address

# Uncomment this ikiwa you want a guest account, you must add this to
# /etc/pitawd
# otherwise the user "nobody" ni used
;  guest account = pcguest

# Security mode. Most people will want user level security. See
# security_level.txt kila details.

   security = user

# Use pitaword server option only ukijumuisha security = server ama security = # domain
# When using security = domain, you should use pitaword server = *
;   pitaword server = 
;   pitaword server = *

# Password Level allows matching of _n_ characters of the pitaword for
# all combinations of upper na lower case.

  pitaword level = 8

;  username level = 8

# You may wish to use pitaword encryption. Please read
# ENCRYPTION.txt, Win95.txt na WinNT.txt kwenye the Samba documentation.
# Do sio enable this option unless you have read those documents
# Encrypted pitawords are required kila any use of samba kwenye a Windows NT #domain
# The smbpitawd file ni only required by a server doing authentication, #thus members of a domain do sio need one.

  encrypt pitawords = yes
  smb pitawd file = /etc/samba/smbpitawd

# The following are needed to allow pitaword changing kutoka Windows to
# also update the Linux system pitaword.
# NOTE: Use these ukijumuisha 'encrypt pitawords' na 'smb pitawd file' above.
# NOTE2: You do NOT need these to allow workstations to change only
#        the encrypted SMB pitawords. They allow the Unix pitaword
#        to be kept kwenye sync ukijumuisha the SMB pitaword.
;  unix pitaword sync = Yes
# You either need to setup a pitawd program na pitawd chat, or
# enable pam pitaword change
;  pam pitaword change = yes
;  pitawd program = /usr/bin/pitawd %u
;  pitawd chat = *New*UNIX*pitaword* %n\n *ReType*new*UNIX*pitaword* 
# %n\n
;*pitawd:*all*authentication*tokens*updated*successfully*

# Unix users can map to different SMB User names
;  username map = /etc/samba/smbusers

# Using the following line enables you to customize your configuration
# on a per machine basis. The %m gets replaced ukijumuisha the netbios name
# of the machine that ni connecting
;   include = /etc/samba/smb.conf.%m

# Options kila using winbind. Winbind allows you to do all account and
# authentication kutoka a Windows ama samba domain controller, creating
# accounts on the fly, na maintaining a mapping of Windows RIDs to
# unix uid's 
# na gid's. winbind uid na winbind gid are the only required
# parameters.
#
# winbind uid ni the range of uid's winbind can use when mapping RIDs #to uid's
;  winbind uid = 10000-20000
#
# winbind gid ni the range of uid's winbind can use when mapping RIDs
# to gid's
;  winbind gid = 10000-20000
#
# winbind separator ni the character a user must use between their
# domain name na username, defaults to "\"
;  winbind separator = +
#
# winbind use default domain allows you to have winbind rudisha
# usernames kwenye the form user instead of DOMAIN+user kila the domain
# listed kwenye the workgroup parameter.
;  winbind use default domain = yes
#
# template homedir determines the home directory kila winbind users,
# ukijumuisha %D expanding to their domain name na %U expanding to their
# username:
;  template homedir = /home/%D/%U

# When using winbind, you may want to have samba create home
# directories on the fly kila authenticated users. Ensure that 
# /etc/pam.d/samba ni using 'service=system-auth-winbind' kwenye pam_stack 
# modules, na then enable obedience of pam restrictions below:
;  obey pam restrictions = yes

#
# template shell determines the shell users authenticated by winbind #get
;  template shell = /bin/bash

# 5. Browser Control na Networking Options:
# Most people will find that this option gives better performance.
# See speed.txt na the manual pages kila details

   socket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192

# Configure Samba to use multiple interfaces
# If you have multiple network interfaces then you must list them
# here. See the man page kila details.
;   interfaces = 192.168.12.2/24 192.168.13.2/24 

# Configure remote browse list synchronisation here
#  request announcement to, ama browse list sync kutoka:
#       a specific host ama kutoka / to a whole subnet (see below)
;   remote browse sync = 192.168.3.25 192.168.5.255
# Cause this host to announce itself to local subnets here
;   remote announce = 192.168.1.255 192.168.2.44

# set local master to no ikiwa you don't want Samba to become a master
# browser on your network. Otherwise the normal election rules apply
;   local master = no

# OS Level determines the precedence of this server kwenye master browser
# elections. The default value should be reasonable
;   os level = 33

# Domain Master specifies Samba to be the Domain Master Browser. This
# allows Samba to collate browse lists between subnets. Don't use this
# ikiwa you already have a Windows NT domain controller doing this job
;   domain master = yes 

# Preferred Master causes Samba to force a local browser election on
# startup na gives it a slightly higher chance of winning the election
;   preferred master = yes

# 6. Domain Control Options:
# Enable this ikiwa you want Samba to be a domain logon server kila 
# Windows95 workstations ama Primary Domain Controller kila WinNT and
# Win2k

;  domain logons = yes


# ikiwa you enable domain logons then you may want a per-machine or
# per user logon script
# run a specific logon batch file per workstation (machine)
;   logon script = %m.bat
# run a specific logon batch file per username
;   logon script = %U.bat

# Where to store roaming profiles kila WinNT na Win2k
#        %L substitutes kila this servers netbios name, %U ni username
#        You must uncomment the [Profiles] share below
;   logon path = \\%L\Profiles\%U

# Where to store roaming profiles kila Win9x. Be careful ukijumuisha this kama it
# also impacts where Win2k finds it's /HOME share
; logon home = \\%L\%U\.profile

# The add user script ni used by a domain member to add local user
# accounts that have been authenticated by the domain controller, ama by 
# the domain controller to add local machine accounts when adding 
# machines to the domain.
# The script must work kutoka the command line when replacing the macros,
# ama the operation will fail. Check that groups exist ikiwa forcing a 
# group.
# Script kila domain controller kila adding machines:
; add user script = /usr/sbin/useradd -d /dev/null -g machines –c
# 'Machine Account' -s /bin/false -M %u
# Script kila domain controller ukijumuisha LDAP backend kila adding machines 
#(please
# configure kwenye /etc/samba/smbldap_conf.pm first):
; add user script = /usr/share/samba/scripts/smbldap-useradd.pl -w –d
# /dev/null -g machines -c 'Machine Account' -s /bin/false %u
# Script kila domain member kila adding local accounts kila authenticated
# users:
; add user script = /usr/sbin/useradd -s /bin/false %u

# Domain groups:
# domain admin group ni a list of unix users ama groups who are made
# members
# of the Domain Admin group
; domain admin group = root @wheel
#
# domain guest groups ni a list of unix users ama groups who are made
# members
# of the Domain Guests group
; domain guest group = nobody @guest

# LDAP configuration kila Domain Controlling:
# The account (dn) that samba uses to access the LDAP server
# This account needs to have write access to the LDAP tree
# You will need to give samba the pitaword kila this dn, by 
# running 'smbpitawd -w mypitaword'
; ldap admin dn = cn=root,dc=mydomain,dc=com
; ldap ssl = start_tls
# start_tls should run on 389, but samba defaults incorrectly to 636
; ldap port = 389
; ldap suffix = dc=mydomain,dc=com
; ldap server = ldap.mydomain.com


# 7. Name Resolution Options:
# All NetBIOS names must be resolved to IP Addresses
# 'Name Resolve Order' allows the named resolution mechanism to be
# specified the default order ni "host lmhosts wins bcast". "host" 
# means use the unix system gethostbyname() function call that will use 
# either /etc/hosts OR DNS ama NIS depending on the settings of 
# /etc/host.config, /etc/nsswitch.conf
# na the /etc/resolv.conf file. "host" therefore ni system 
# configuration dependent. This parameter ni most often of use to 
# prevent DNS lookups
# kwenye order to resolve NetBIOS names to IP Addresses. Use ukijumuisha care!
# The example below excludes use of name resolution kila machines that
# are NOT on the local network segment  - OR - are sio deliberately to 
# be known via lmhosts ama via WINS.
; name resolve order = wins lmhosts bcast

# Windows Internet Name Serving Support Section:
# WINS Support - Tells the NMBD component of Samba to enable it's WINS
# Server
;   wins support = yes

# WINS Server - Tells the NMBD components of Samba to be a WINS Client
#       Note: Samba can be either a WINS Server, ama a WINS Client, but 
# NOT both
;   wins server = w.x.y.z

# WINS Proxy - Tells Samba to answer name resolution queries on
# behalf of a non WINS capable client, kila this to work there must be
# at least one  WINS Server on the network. The default ni NO.
;   wins proxy = yes

# DNS Proxy - tells Samba whether ama sio to try to resolve NetBIOS 
# names  via DNS nslookups. The built-in default kila versions 1.9.17 ni 
# yes, this has been changed kwenye version 1.9.18 to no.

   dns proxy = no 

# 8. File Naming Options:
# Case Preservation can be handy - system default ni _no_
# NOTE: These can be set on a per share basis
;  preserve case = no
;  short preserve case = no
# Default case ni normally upper case kila all DOS files
;  default case = lower
# Be very careful ukijumuisha case sensitivity - it can koma things!
;  case sensitive = no

# Enabling internationalization:
# you can match a Windows code page ukijumuisha a UNIX character set.
# Windows: 437 (US), 737 (GREEK), 850 (Latin1 - Western European),
# 852 (Eastern Eu.), 861 (Icelandic), 932 (Cyrillic - Russian),
# 936 (Japanese - Shift-JIS), 936 (Simpl. Chinese), 949 (Korean 
# Hangul),
# 950 (Trad. Chin.).
# UNIX: ISO8859-1 (Western European), ISO8859-2 (Eastern Eu.),
# ISO8859-5 (Russian Cyrillic), KOI8-R (Alt-Russ. Cyril.)
# This ni an example kila french users:
;   client code page = 850
;   character set = ISO8859-1

#============================ Share Definitions ==============================

[homes]
   comment = Home Directories
   browseable = no
   writable = yes

# You can enable VFS recycle bin on a per share basis:
# Uncomment the next 2 lines (make sure you create a
# .recycle folder kwenye the base of the share na ensure
# all users will have write access to it. See
# examples/VFS/recycle/REAME kwenye samba-doc kila details
;   vfs object = /usr/lib/samba/vfs/recycle.so
;   vfs options= /etc/samba/recycle.conf

# Un-comment the following na create the netlogon directory kila Domain
# Logons
; [netlogon]
;   comment = Network Logon Service
;   path = /var/lib/samba/netlogon
;   guest ok = yes
;   writable = no

#Uncomment the following 2 lines ikiwa you would like your login scripts
# to be created dynamically by ntlogon (check that you have it kwenye the
# correct location (the default of the ntlogon rpm available in
# contribs)

;root preexec = /usr/bin/ntlogon -u %U -g %G -o %a -d /var/lib/samba/netlogon
;root postexec = rm -f /var/lib/samba/netlogon/%U.bat

# Un-comment the following to provide a specific roving profile share
# the default ni to use the user's home directory
;[Profiles]
;    path = /var/lib/samba/profiles
;    browseable = no
;    guest ok = yes


# NOTE: If you have a CUPS print system there ni no need to 
# specifically define each individual printer.
# You must configure the samba printers ukijumuisha the appropriate Windows
# drivers on your Windows clients. On the Samba server no filtering is
# done. If you wish that the server provides the driver na the clients
# send PostScript ("Generic PostScript Printer" under Windows), you
# have to swap the 'print command' line below ukijumuisha the commented one.

[printers]
   comment = All Printers
   path = /var/spool/samba
   browseable = no
# to allow user 'guest account' to print.
   guest ok = yes
   writable = no
   printable = yes
   create mode = 0700

# =====================================
# print command: see above kila details.
# =====================================

   print command = lpr-cups -P %p -o raw %s -r 
# using client side printer drivers.
;  print command = lpr-cups -P %p %s 
# using cups own drivers (use generic PostScript on clients).
# The following two commands are the samba defaults kila printing=cups
# change them only ikiwa you need different options:
;   lpq command = lpq -P %p
;   lprm command = cancel %p-%j

# This share ni used kila Windows NT-style point-and-print support.
# To be able to install drivers, you need to be either root, ama listed
# kwenye the printer admin parameter above. Note that you also need write 
# access to the directory na share definition to be able to upload the 
# drivers.
# For more information on this, please see the Printing Support Section
# of  /usr/share/doc/samba-/docs/Samba-HOWTO-Collection.pdf 

[print$]
   path = /var/lib/samba/printers
   browseable = yes
   read only = yes
   write list = @adm root

# A useful application of samba ni to make a PDF-generation service
# To streamline this, install windows postscript drivers (preferably 
# colour)on the samba server, so that clients can automatically install
# them.

[pdf-generator]
   path = /var/tmp
   guest ok = No
   printable = Yes
   comment = PDF Generator (only valid users)
   #print command = /usr/share/samba/scripts/print-pdf file path win_path recipient IP &
   print command = /usr/share/samba/scripts/print-pdf %s ~%u \\\\\\\\%L\\\\%u %m %I &

# This one ni useful kila people to share files
[tmp]
   comment = Temporary file space
   path = /tmp
   read only = no
   public = yes
   echo command = cat %s; rm %s

# A publicly accessible directory, but read only, tatizo kila people in
# the "staff" group




;[public]
;   comment = Public Stuff
;   path = /home/samba/public
;   public = yes
;   writable = no
;   write list = @staff
# Audited directory through experimental VFS audit.so module:
# Uncomment next line.
;   vfs object = /usr/lib/samba/vfs/audit.so

# Other examples. 
#
# A private printer, usable only by Fred. Spool data will be placed in
# Fred's
# home directory. Note that fred must have write access to the spool 
# directory,
# wherever it is.
;[fredsprn]
;   comment = Fred's Printer
;   valid users = fred
;   path = /homes/fred
;   printer = freds_printer
;   public = no
;   writable = no
;   printable = yes


-----------------------------------------------------------
# A private directory, usable only by Fred. Note that Fred requires 
# write access to the directory.

;[fredsdir]

    [Agustin]
;   comment = Fred's Service
    comment = Agustin Private Files
;   path = /usr/somewhere/private
    path = /home/agustin/Documents
;   valid users = fred
    valid users = agustin
;   public = no
;   writable = yes
    writable = yes
;   printable = no


-----------------------------------------------------------

# a service which has a different directory kila each machine that 
# connects this allows you to tailor configurations to incoming 
# machines. You could also use the %u option to tailor it by user name.
# The %m gets replaced ukijumuisha the machine name that ni connecting.
;[pchome]
;  comment = PC Directories
;  path = /usr/pc/%m
;  public = no
;  writable = yes


-----------------------------------------------------------
# A publicly accessible directory, read/write to all users. Note that
# all files created kwenye the directory by users will be owned by the 
# default user, so any user ukijumuisha access can delete any other user's 
# files. Obviously this directory must be writable by the default user. 
# Another user could of course be specified, kwenye which case all files 
# would be owned by that user instead.

;[public]
;   path = /usr/somewhere/else/public
;   public = yes
;   only guest = yes
;   writable = yes
;   printable = no

-----------------------------------------------------------

# The following two entries demonstrate how to share a directory so 
# that two users can place files there that will be owned by the 
# specific users. In this setup, the directory should be writable by 
# both users na should have the sticky bit set on it to prevent abuse. 
# Obviously this could be extended to kama many users kama required.

;[myshare]
;   comment = Mary's na Fred's stuff
;   path = /usr/somewhere/shared
;   valid users = mary fred
;   public = no
;   writable = yes
;   printable = no
;   create mask = 0765
